---
layout: default
title: "js实现滚动监听以及滑动到顶部"
tags: archives
---

# js实现滚动监听以及滑动到顶部

用原生 js 来实现滚动监听以及滑动到顶部，当页面从顶部向下滑动超过 300px 时，返回顶部的图片出现，点击图片后，页面平滑的移动到页面顶部。

# HTML代码：

```html
<div class="uptop" id="uptop">
	<img src="./images/backtop.png" id="to-top">
</div>
```

# CSS代码：

```css
.uptop{
    position:fixed;
    bottom:-50px;
    right:30px;
    width:50px;
    z-index:9999;
    -webkit-transition:all .5s;
    -moz-transition:all .5s;
    -ms-transition:all .5s;
    -o-transition:all .5s;
    transition:all .5s;
}

.uptop img{
    width:80%;
    cursor:pointer;
}
```

# JavaScript代码：

```javascript
window.onload = function () {
    window.onscroll = function(){ 
        var t = document.documentElement.scrollTop || document.body.scrollTop;  
        var uptop = document.getElementById( "uptop" ); 
        if( t >= 300 ) { 
            uptop.style.bottom=30+'px';
        } else { 
            uptop.style.bottom=-50+'px';
        } 
    } 

    var top=document.getElementById("to-top");
    var timer=null;
    top.onclick = function(){ 
        timer=setInterval(function(){ 
            var ct = document.documentElement.scrollTop || document.body.scrollTop; 
            ct-=30;
            if(ct>0){
                    window.scrollTo(0,ct);
            }
            else{
                    window.scrollTo(0,0);
                    clearInterval(timer);
            }
        },5);
    }
}
```

**效果示例**

![](https://lien-1258580758.cos.ap-shanghai.myqcloud.com/blog-img/backtop/2.gif)

[下载完整文件](<https://github.com/isArtJay/backtop>)

只需将这三段代码分别引入到相应的位置，如果更换图片，要注意路径是否正确。